(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var _roulette=require("./roulette"),_util=require("./util");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FormUl=document.getElementById("form"),WeightInput=document.getElementById("weight-0"),NameInput=document.getElementById("name-0"),canvas=document.getElementById("roulette"),ctx=canvas.getContext("2d"),size={width:canvas.width,height:canvas.height},listId=[0],Lable=["Roulette"],Weights=[1],PercentData=[100],Degrees=[360],deleteToList=function(e){var t=e.target.parentElement,n=t.id.split("-")[1];t.remove(),listId=listId.filter(function(e){return e!==parseInt(n)}),updateData()},addToList=function(){var e=document.getElementById("form"),t=listId[listId.length-1]+1,n=document.createElement("li");n.id="list-".concat(t),n.className="list";var r=document.createElement("input");r.id="name-".concat(t),r.className="input-name",r.required=!0,r.addEventListener("input",handleNameInput);var a=document.createElement("input");a.id="weight-".concat(t),a.className="input-weight",a.type="number",a.value=1,a.min=0,Weights.push(1),a.addEventListener("input",handleWeightInput);var o=document.createElement("span");o.id="percent-".concat(t),o.className="percent";var i=document.createElement("button");i.innerText="delete",i.addEventListener("click",deleteToList),e.appendChild(n),n.appendChild(r),n.appendChild(a),n.appendChild(o),n.appendChild(i)},calculatePercent=function(e){var t=0;Weights.map(function(e){t+=e});var n=(100*e/t).toFixed(2);return parseFloat(n)},updateData=function(){var e=document.querySelectorAll(".input-weight");Weights=_toConsumableArray(e).map(function(e){return parseInt(e.value)||0}),PercentData=_toConsumableArray(e).map(function(e){return calculatePercent(e.value)}),Degrees=PercentData.map(function(e){return(0,_util.percentToDegree)(e)}),document.querySelectorAll(".percent").forEach(function(e,t){e.innerHTML="".concat(PercentData[t],"%")}),ctx.clearRect(0,0,canvas.width,canvas.height),(0,_roulette.drawRoulette)(ctx,Degrees,size,Lable)},handleEnterKey=function(){listId.push(listId[listId.length-1]+1),handleNameInput(),addToList(),updateData()},enterForm=function(e){"Enter"===e.key&&handleEnterKey()},handleWeightInput=function(e){updateData()},handleNameInput=function(e){var t=document.querySelectorAll(".input-name");Lable=_toConsumableArray(t).map(function(e){return e.value}),ctx.clearRect(0,0,canvas.width,canvas.height),(0,_roulette.drawRoulette)(ctx,Degrees,size,Lable)};(0,_roulette.drawRoulette)(ctx,Degrees,size,Lable),FormUl.addEventListener("keypress",enterForm),WeightInput.addEventListener("input",handleWeightInput),NameInput.addEventListener("input",handleNameInput);var tempRotate=0,rotatePower=0,friction=50,clickButton=function(){rotatePower=1e3*Math.random()+1e3,rollRoulette()},rollRoulette=function e(){if(tempRotate<rotatePower?tempRotate+=friction:(rotatePower=0,tempRotate+=friction,friction-=.1),friction<0)return tempRotate=0,void(friction=50);ctx.clearRect(0,0,canvas.width,canvas.height),(0,_roulette.drawRoulette)(ctx,Degrees,size,Lable,tempRotate),requestAnimationFrame(e)},rollBtn=document.querySelector(".roll-btn");rollBtn.addEventListener("click",clickButton);

},{"./roulette":2,"./util":3}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawRoulette=void 0;var _util=require("./util"),colors=["#FBC22B","#F11486","#A067AC","#49A3CF","#88E444"],drawRoulette=function(e,t,r,o,l){for(var i=0,a=(0,_util.degreeToRadian)(l)||0,n=r.width/2,s=r.height/2,d=.5*r.width*.9,u=t.map(function(e){return(0,_util.degreeToRadian)(e)}),h=0;h<u.length;h+=1)i=a,a+=u[h],e.beginPath(),e.fillStyle=colors[h%colors.length],e.moveTo(n,s),e.arc(n,s,d,i,a),e.lineTo(n,s),e.stroke(),e.fill();for(var f=u[0]+(0,_util.degreeToRadian)(l)||0,c=0;c<u.length;c+=1)f+=u[c],e.save(),e.translate(n,s),e.rotate(f+u[c]/2),e.moveTo(0,0),e.font="36px Sans-serif",e.strokeStyle="black",e.lineWidth=5,e.strokeText(o[c],d/4,8),e.fillStyle="white",e.fillText(o[c],d/4,8),e.restore();e.beginPath(),e.strokeStyle="#000000",e.lineWidth=3,e.arc(n,s,d,0,2*Math.PI),e.stroke()};exports.drawRoulette=drawRoulette;

},{"./util":3}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.percentToDegree=exports.degreeToRadian=void 0;var degreeToRadian=function(e){return e*Math.PI/180};exports.degreeToRadian=degreeToRadian;var percentToDegree=function(e){var r=360*e/100;return Math.round(100*r)/100};exports.percentToDegree=percentToDegree;

},{}]},{},[1]);
